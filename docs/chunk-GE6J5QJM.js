import{a as I}from"./chunk-3O5CBXPR.js";import{Ca as f,Ia as g,Ka as v,La as y,Ma as S,Na as e,Oa as n,Pa as E,Qa as P,R as w,Ra as c,Sa as r,Wa as s,X as u,Xa as d,Y as C,a as h,b as M,ca as b,pb as z,qa as m,u as O,ya as p}from"./chunk-DI67BXTQ.js";var _=class o{post;close=new b;onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=p({type:o,selectors:[["app-post-details"]],inputs:{post:"post"},outputs:{close:"close"},decls:13,vars:2,consts:[["tabindex","-1","role","dialog",1,"modal","show","d-block"],["role","document",1,"modal-dialog","modal-dialog-centered","custom-modal"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-backdrop","show"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),s(5),n()(),e(6,"div",5)(7,"p"),s(8),n()(),e(9,"div",6)(10,"button",7),c("click",function(){return a.onClose()}),s(11,"Close"),n()()()()(),E(12,"div",8)),t&2&&(m(5),d(a.post.title),m(3),d(a.post.body))},styles:[".custom-modal[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:40%}.custom-modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.custom-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}@media (min-width: 1030px){.custom-modal[_ngcontent-%COMP%]{min-width:438px}}@media (min-width: 580px){.custom-modal[_ngcontent-%COMP%]{min-width:340px}}@media (max-width: 660px){.custom-modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9rem}.custom-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.custom-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%;font-size:smaller;display:flex;justify-content:center}}@media (max-width: 580px){.custom-modal[_ngcontent-%COMP%]{width:60%}.custom-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:x-small}}@media (max-width: 400px){.custom-modal[_ngcontent-%COMP%]{width:70%}.custom-modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8rem}.custom-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}.custom-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:x-small;width:25%}}@media (max-width: 375px){.custom-modal[_ngcontent-%COMP%]{width:60%}}"]})};var T=(o,i)=>i.id;function U(o,i){if(o&1){let t=P();e(0,"app-post-details",4),c("close",function(){u(t);let l=r();return C(l.closeModal())}),n()}if(o&2){let t=r();g("post",t.selectedPost)}}function V(o,i){if(o&1){let t=P();e(0,"tr")(1,"th",5),s(2),n(),e(3,"td",6),s(4),n(),e(5,"td",6),s(6),n(),e(7,"td")(8,"button",7),c("click",function(){let l=u(t).$implicit,D=r(2);return C(D.showDetails(l))}),s(9," details "),n()()()}if(o&2){let t=i.$implicit;m(2),d(t.id),m(2),d(t.title),m(2),d(t.userName)}}function j(o,i){if(o&1&&y(0,V,10,3,"tr",null,T),o&2){let t=r();S(t.posts)}}var x=class o{userService=w(I);posts=[];users=[];selectedPost=null;ngOnInit(){O({posts:this.userService.getAllPosts(),users:this.userService.getAllUsers()}).subscribe(({posts:i,users:t})=>{let a=new Map(t.map(l=>[l.id,l.name]));this.posts=i.map(l=>M(h({},l),{userName:a.get(l.userId)||"Unknown"})),console.log(this.posts)})}showDetails(i){this.selectedPost=i}closeModal(){this.selectedPost=null}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=p({type:o,selectors:[["app-posts"]],decls:15,vars:2,consts:[[1,"post-details"],[3,"post","close",4,"ngIf"],[1,"table"],["scope","col"],[3,"close","post"],["scope","row"],[2,"word-break","break-word"],["type","button",1,"btn","btn-primary","animated-button",3,"click"]],template:function(t,a){t&1&&(e(0,"div",0),f(1,U,1,1,"app-post-details",1),n(),e(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),s(6,"#"),n(),e(7,"th",3),s(8,"Name"),n(),e(9,"th",3),s(10,"UserName"),n(),e(11,"th",3),s(12,"Details"),n()()(),e(13,"tbody"),f(14,j,2,0),n()()),t&2&&(m(),g("ngIf",a.selectedPost),m(13),v(a.posts.length!=0?14:-1))},dependencies:[_,z],styles:[".post-details[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center}.animated-button[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.animated-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #0003}.animated-button[_ngcontent-%COMP%]:active{transform:scale(.95)}table[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 660px){th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:small;padding:.2rem}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%;font-size:smaller;display:flex;justify-content:center}}@media (max-width: 500px){th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:smaller;padding:.1rem}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:smaller}}@media (max-width: 375px){th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:x-small;padding:.1rem}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:xx-small;width:60%}}"]})};export{x as default};
